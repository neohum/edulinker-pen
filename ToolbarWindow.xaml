<Window x:Class="EdulinkerPen.ToolbarWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:local="clr-namespace:EdulinkerPen"
        Title="Edulinker Toolbar" SizeToContent="WidthAndHeight"
        WindowStyle="None" AllowsTransparency="True" Background="Transparent"
        Topmost="True" ShowInTaskbar="False"
        MouseEnter="Window_MouseEnter" MouseLeave="Window_MouseLeave">
    <Window.Resources>
        <!-- Glass Button -->
        <Style x:Key="GlassButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#25FFFFFF"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
            <Setter Property="Width" Value="44"/>
            <Setter Property="Height" Value="44"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="10"
                                BorderBrush="#30FFFFFF"
                                BorderThickness="1">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#40FFFFFF"/>
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#50FFFFFF"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#15FFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- Glass Clear Button -->
        <Style x:Key="GlassClearButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#40d9534f"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
            <Setter Property="Width" Value="44"/>
            <Setter Property="Height" Value="44"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ButtonBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="10"
                                BorderBrush="#40d9534f"
                                BorderThickness="1">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#60d9534f"/>
                                <Setter TargetName="ButtonBorder" Property="BorderBrush" Value="#80d9534f"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ButtonBorder" Property="Background" Value="#30d9534f"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <!-- Glass Color Button -->
        <Style x:Key="GlassColorStyle" TargetType="Button">
            <Setter Property="Width" Value="28"/>
            <Setter Property="Height" Value="28"/>
            <Setter Property="Margin" Value="0,0,0,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="ColorBorder"
                                Background="{TemplateBinding Background}"
                                CornerRadius="14"
                                BorderBrush="#40FFFFFF"
                                BorderThickness="1.5">
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="ColorBorder" Property="BorderBrush" Value="#80FFFFFF"/>
                                <Setter TargetName="ColorBorder" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="ColorBorder" Property="BorderBrush" Value="#AAFFFFFF"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Border x:Name="ToolbarBorder" HorizontalAlignment="Center" VerticalAlignment="Top"
            Margin="10" Background="#B0181825" CornerRadius="16" Padding="12"
            BorderBrush="#30FFFFFF" BorderThickness="1" MinWidth="72">
        <Border.Effect>
            <DropShadowEffect BlurRadius="20" ShadowDepth="4" Opacity="0.4" Color="Black"/>
        </Border.Effect>
        <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
            <!-- Menu Icon: click to toggle, drag to move -->
            <Border x:Name="MenuIconBorder" Width="48" Height="48" CornerRadius="12"
                    Background="Transparent" Cursor="Hand" Margin="0,0,0,8"
                    MouseLeftButtonDown="MenuIcon_MouseLeftButtonDown"
                    MouseMove="MenuIcon_MouseMove"
                    MouseLeftButtonUp="MenuIcon_MouseLeftButtonUp">
                <Image Source="Assets/pen.png" Width="34" Height="34"
                       HorizontalAlignment="Center" VerticalAlignment="Center"/>
            </Border>

            <StackPanel x:Name="ToolsPanel" Orientation="Vertical" HorizontalAlignment="Center">
                <StackPanel.LayoutTransform>
                    <ScaleTransform x:Name="ToolsPanelScale" ScaleY="1"/>
                </StackPanel.LayoutTransform>
                <Button ToolTip="Pen" Click="BtnPen_Click" Style="{StaticResource GlassButtonStyle}">
                    <Viewbox Width="22" Height="22">
                        <Canvas Width="24" Height="24">
                            <Path Data="M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                        </Canvas>
                    </Viewbox>
                </Button>
                <Button ToolTip="Highlighter" Click="BtnHighlighter_Click" Style="{StaticResource GlassButtonStyle}">
                    <Viewbox Width="22" Height="22">
                        <Canvas Width="24" Height="24">
                            <Path Data="m9 11-6 6v3h9l3-3" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="m22 12-4.6 4.6a2 2 0 0 1-2.8 0l-5.2-5.2a2 2 0 0 1 0-2.8L14 4" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                        </Canvas>
                    </Viewbox>
                </Button>
                <Button ToolTip="Eraser" Click="BtnEraser_Click" Style="{StaticResource GlassButtonStyle}">
                    <Viewbox Width="22" Height="22">
                        <Canvas Width="24" Height="24">
                            <Path Data="M21 21H8a2 2 0 0 1-1.42-.587l-3.994-3.999a2 2 0 0 1 0-2.828l10-10a2 2 0 0 1 2.829 0l5.999 6a2 2 0 0 1 0 2.828L12.834 21" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="m5.082 11.09 8.828 8.828" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                        </Canvas>
                    </Viewbox>
                </Button>
                <Button ToolTip="Clear All" Click="BtnClear_Click" Style="{StaticResource GlassClearButtonStyle}">
                    <Viewbox Width="22" Height="22">
                        <Canvas Width="24" Height="24">
                            <Path Data="M3 6h18" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="M10 11v6" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                            <Path Data="M14 11v6" Stroke="White" StrokeThickness="2" StrokeStartLineCap="Round" StrokeEndLineCap="Round" StrokeLineJoin="Round"/>
                        </Canvas>
                    </Viewbox>
                </Button>

                <Border Height="1" Background="#30FFFFFF" Margin="0,4,0,8" HorizontalAlignment="Stretch"/>

                <StackPanel Orientation="Vertical" HorizontalAlignment="Center">
                    <Button Background="Red" Click="Color_Click" Style="{StaticResource GlassColorStyle}"/>
                    <Button Background="Lime" Click="Color_Click" Style="{StaticResource GlassColorStyle}"/>
                    <Button Background="DodgerBlue" Click="Color_Click" Style="{StaticResource GlassColorStyle}"/>
                    <Button Background="Yellow" Click="Color_Click" Style="{StaticResource GlassColorStyle}"/>
                    <Button Background="White" Click="Color_Click" Style="{StaticResource GlassColorStyle}"/>
                </StackPanel>

                <TextBlock Text="제작" FontSize="10" Foreground="#60FFFFFF" Margin="0,10,0,0" HorizontalAlignment="Center" Cursor="Hand" MouseDown="TxtAbout_MouseDown"/>
            </StackPanel>
        </StackPanel>
    </Border>
</Window>
